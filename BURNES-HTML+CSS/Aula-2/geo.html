<!DOCTYPE html>
<html>
<head>
	<title>Geolocalização</title>
	<meta charset="utf-8">
	<meta name="description" content="Site em HTML5 com Geolocalização">
	<meta name="Keywords" content="html5, geolocalizacao,cianorte, parana">

	<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyAWWLGVZCvEzQvUdLCz3n4R0gcy2pPMxbg"></script>


	<style type="text/css">
	#mapa{
		width: 800px;
		height: 400px;
		border: 1px solid #000;
	}

	</style>
</head>
<body>
	<h1>Geolocalização</h1>

	<button type="button" onclick="mostrar()">Encontrar</button>

	<div id="mapa">Aqui vai carregar o mapa</div>

	<script type="text/javascript">
		function mapa(){
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(mostraMapa)
			} else {
				alert("Seu navegador não possui suporte a Geolocalização");
				if (confirm("Deseja atualizar o navegador?")) {
					location.href = "http://www.getchrome.com";
				}
			}
		}

		function mostraMapa(position){
			var lat = position.coords.latitude;

			var lon = position.coords.longitude;

			var mapOptions = {
				zoom: 15,
				center: new google.maps.LatLng(lat,lon),
				mapTypeId: google.maps.MapTypeId.ROADMAP
			};
			//ROADMAP, SATELLITE, HYBRID, TERRAIN

			var map = new google.maps.Map(document.getElementById("mapa"), mapOptions);

			//marcador
			var latlon = new google.maps.LatLng(lat, lon);
			var marcador= new google.maps.Marker({position:latlon, map: map, title:"Faculdade Alfa"});			
		}

		google.maps.event.addDomListener(window, 'load', mapa);
	</script>
</body>
</html>